<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Twidder</title>

    <!-- CSS files -->
    <link href="css/client.css" type="text/css" rel="stylesheet">
    <link href="css/bootstrap.css" type="text/css" rel="stylesheet">
    <!-- <link href="css/bootstrap-theme.css" type="text/css" rel="stylesheet"> -->

    <!-- JavaScript files -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.6/handlebars.js"></script>
    <script src="js/chart.js"></script>
    <script src="js/client.js" type="text/javascript"></script>
    <script src="js/bootstrap.js" type="text/javascript"></script>

    <script type="text/x-handlebars-template" id="welcomeview">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="jumbotron">
                        <h1>Welcome to Twidder!</h1>
                        <p>A very social platform</p>
                    </div>
                    <img src="wimage.png" class="center-block img-rounded img-responsive" alt="Twidder Image">
                </div>

                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="well">
                        <h3>Login</h3>
                        <form class="form-horizontal" id="login-form" onsubmit="return login()" method="post" >
                            <div class="form-group">
                                <label for="login_email" class="col-sm-3 control-label">Username:</label>
                                <div class="col-sm-9">
                                    <input class="form-control" id="login_email" type="text" name="email" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="login_password" class="col-sm-3 control-label">Password:</label>
                                <div class="col-sm-9">
                                    <input class="form-control" id="login_password" type="password" name="password" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-3 col-sm-9">
                                    <input id="login_submit" type="submit" class="btn btn-default " value="Login">
                                    <label class="alertText" id="login-alert"></label>
                                </div>
                            </div>
                        </form>
                    </div>

                    <div class="well">
                        <h3>Sign up here!</h3>
                        <form class="form-horizontal" id="signUp-form" onsubmit="return validateSignUp()" method="post" >
                            <div class="form-group">
                                <label for="firstname" class="col-sm-3 control-label">First name:</label>
                                <div class="col-sm-9">
                                    <input id="firstname" class="form-control" type="text" name="firstname" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="familyname" class="col-sm-3 control-label">Family name:</label>
                                <div class="col-sm-9">
                                    <input id="familyname" class="form-control" type="text" name="familyname" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="gender" class="col-sm-3 control-label">Gender:</label>
                                <div class="col-sm-9">
                                    <select id="gender" class="form-control" name="gender">
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                        <option value="Other">Non-binary</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="city" class="col-sm-3 control-label">City:</label>
                                <div class="col-sm-9">
                                    <input id="city" class="form-control" type="text" name="city" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="country" class="col-sm-3 control-label">Country:</label>
                                <div class="col-sm-9">
                                    <input id="country" class="form-control" type="text" name="country" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="signup_email" class="col-sm-3 control-label">Email:</label>
                                <div class="col-sm-9">
                                    <input id="signup_email" class="form-control" type="email" name="email" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="signup_password_1" class="col-sm-3 control-label">Password:</label>
                                <div class="col-sm-9">
                                    <input id="signup_password_1" class="form-control" type="password" name="password" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="signup_password_2" class="col-sm-3 control-label">Repeat pw:</label>
                                <div class="col-sm-9">
                                    <input id="signup_password_2" class="form-control" type="password" name="password_repeat" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-3 col-sm-9">
                                    <input id="signup_submit" type="submit" class="btn btn-default" value="Sign up">
                                    <label class="alertText" id="signUp-alert"></label>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </script>

    <script type="text/html" id="profileview" >
        <div class="container">
            <div class="row">


                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">Home</a></li>
                    <li role="presentation"><a href="#browse" aria-controls="browse" role="tab" data-toggle="tab">Browse</a></li>
                    <li role="presentation"><a id="account-tab" href="#account" aria-controls="account" role="tab" data-toggle="tab">Account</a></li>
                </ul>

                <div class="tab-content">
                    <div role="tabpanel" id="home" class="tab-pane fade in active">
                        <div class="container">

                            <div class="row">
                                <!-- Charts -->
                                <div class="charts">
                                    <div class="col-xs-12 col-sm-4">
                                        <h4 class="text-center">Gender of registered users:</h4>
                                        <canvas id="genderChart" width="200" height="200"></canvas>
                                    </div>
                                    <div class="col-xs-12 col-sm-4">
                                        <h4 class="text-center">Country origin of registered users:</h4>
                                        <canvas id="countryChart" width="200" height="200"></canvas>
                                    </div>
                                    <div class="col-xs-12 col-sm-4">
                                        <h4 class="text-center">Current online users:</h4>
                                        <canvas id="onlineChart" width="200" height="200"></canvas>
                                    </div>

                                </div>
                                <div class="clearfix visible-md-block visible-sm-block visible-lg-block"></div>

                                <div class="user-info">
                                    <div class="col-xs-12 col-sm-4">
                                        <h2>Welcome!</h2>
                                        <dl class="dl-horizontal">
                                            <dt>First name:</dt><dd> <span id="nameField">{{ firstname }}</span></dd>
                                            <dt>Family name:</dt><dd> <span id="familyField">{{ familyname }}</span></dd>
                                            <dt>Email:</dt><dd> <span id="home-emailField">{{ email }}</span></dd>
                                            <dt>Gender:</dt><dd> <span id="genderField">{{ gender }}</span></dd>
                                            <dt>City:</dt><dd> <span id="cityField">{{ city }}</span></dd>
                                            <dt>Country:</dt><dd> <span id="countryField">{{ country }}</span></dd>
                                        </dl>
                                    </div>
                                    <div class="col-xs-12 col-sm-8">
                                        <h2>Comment wall</h2>
                                        <div id="home-comment-holder"></div>
                                        <form>
                                            <div class="form-group">
                                                <textarea id="home-comment-input" class="form-control" type="text" placeholder="Write comment..." rows="4"></textarea>
                                            </div>
                                            <div class="form-group">
                                                <button type="button" class="btn btn-success" id="home-comment-submit" onclick="return postComment('home')">Post comment</button>
                                                <button class="btn btn-default" onclick="return updateComments('home')">Update comments</button>
                                            </div>
                                        </form>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- Home pane -->

                    <div role="tabpanel" id="browse" class="tab-pane fade">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6 col-xs-12">
                                    <h2>Browse</h2>

                                    <div class="form-group">
                                        <label class="sr-only" for="searchUserText">Email address</label>
                                        <input ondrop="drop(event)" ondragover="allowDrop(event)" type="email" class="form-control" id="searchUserText" placeholder="Email">
                                    </div>
                                    <button type="submit" class="btn btn-default" onclick="return browseUser()">Search user</button>
                                    <small id="browseAlert"></small>

                                </div>
                                <div class="col-md-6 col-xs-12">
                                    <h3>Available users:</h3>
                                    <p>Drag and drop a username to the searchfield</p>
                                    <div id="listUsers"></div>
                                </div>
                            </div>
                            <div id="browseInfo">
                                <hr>
                                <div class="row">

                                    <div class="col-md-6 col-xs-12">
                                        <h2>Twidder page:</h2>
                                        <dl class="dl-horizontal">
                                            <dt>First name:</dt><dd> <span id="browse-nameField"></span></dd>
                                            <dt>Family name:</dt><dd> <span id="browse-familyField"></span></dd>
                                            <dt>Email:</dt><dd> <span id="browse-emailField"></span></dd>
                                            <dt>Gender:</dt><dd> <span id="browse-genderField"></span></dd>
                                            <dt>City:</dt><dd> <span id="browse-cityField"></span></dd>
                                            <dt>Country:</dt><dd> <span id="browse-countryField"></span></dd>
                                        </dl>
                                    </div>
                                    <div class="col-md-6 col-xs-12">
                                        <h2>Comment wall</h2>
                                        <div id="browse-comment-holder"></div>
                                        <form>
                                            <div class="form-group">
                                                <textarea id="browse-comment-input" class="form-control" type="text" placeholder="Write comment..." rows="4"></textarea>
                                            </div>
                                            <div class="form-group">
                                                <button type="button" class="btn btn-success" id="browse-comment-submit" onclick="return postComment('browse')">Post comment</button>
                                                <button class="btn btn-default" onclick="return updateComments('browse')">Update comments</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><!-- Browse pane -->

                    <div role="tabpanel" id="account" class="tab-pane fade">
                        <div class="container">
                            <h3>Change password</h3>
                            <form class="form-horizontal" id="changePasswordForm" onsubmit="return changePassword()" method="post">
                                <div class="form-group">
                                    <label for="old" class="col-sm-3 control-label">Old password</label>
                                    <div class="col-sm-9">
                                        <input type="password" class="form-control" placeholder="Old password" name="old" id="old">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="new1" class="col-sm-3 control-label">New password</label>
                                    <div class="col-sm-9">
                                        <input type="password" class="form-control" placeholder="New password" name="new1" id="new1">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="new2" class="col-sm-3 control-label">Repeat password</label>
                                    <div class="col-sm-9">
                                        <input type="password" class="form-control" placeholder="Repeat your new password" name="new2" id="new2">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-3 col-sm-9">
                                        <button id="change-submit" type="submit" class="btn btn-default">Change password</button>
                                        <span id="changeAlert"></span>
                                    </div>
                                </div>

                            </form>

                            <h3>Log Out</h3>
                            <button id="logout-button" class="btn btn-warning" onclick="logout()" >Log out!</button><br><br>
                        </div>
                    </div> <!-- Account pane -->
                </div><!-- Tab-content -->
            </div>
        </div>
    </script>
    <script src="js/handlebars.js"></script>
</head>
<body>
<div id="placeholder"></div>
<div class="footer">
    <p class="text-center">&copy; Fredrik Håkansson - 2017</p>
</div>
</body>

</html>